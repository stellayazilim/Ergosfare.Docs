---
title: Command OluÅŸturma
description: Ergosfareâ€™de command tanÄ±mlamayÄ± Ã¶ÄŸrenin.
---

## Command Nedir?
Ergosfareâ€™de Commandâ€™ler bir **intent**â€™i (niyeti) temsil eder.  
Bir command, `Ergosfare.Contracts` iÃ§indeki **`ICommand` veya `ICommand<TResult>` arayÃ¼zlerini implemente eden herhangi bir tiptir**.  

> âš¡ Command tanÄ±mlamak iÃ§in Command Moduleâ€™e ihtiyacÄ±nÄ±z yoktur. Sadece `Ergosfare.Contracts` eklemeniz yeterli.

---

### Ã–nemli Noktalar
{% prose %}
* Commandâ€™ler Ergosfareâ€™de **class, record veya struct** olarak tanÄ±mlanabilir.  
* Commandâ€™ler her zaman sistemin durumunu deÄŸiÅŸtirmeyi amaÃ§lar.  
* Intent veya Actionâ€™Ä± temsil eder; yani belirli bir iÅŸlemin yapÄ±lmasÄ± talebini modelleyen yapÄ±lardÄ±r.  
* Commandâ€™ler **hafif olmalÄ±**; iÅŸ mantÄ±ÄŸÄ± iÃ§ermez. â€œNe yapÄ±lacaÄŸÄ±nÄ±â€ belirtir, â€œnasÄ±l yapÄ±lacaÄŸÄ±nÄ±â€ deÄŸil.  
* Command, iÅŸlemin gerÃ§ekleÅŸmesi iÃ§in gerekli tÃ¼m bilgileri taÅŸÄ±r.  
* Tek baÅŸÄ±na bir mesaj veya talimat gibi davranÄ±r.  
* Genellikle immutableâ€™dÄ±r, yani oluÅŸturulduktan sonra deÄŸiÅŸmez (Ergosfareâ€™de bazÄ± durumlarda deÄŸiÅŸtirilebilirler).  
* **Single Responsibility:** Her command tek bir operasyonu temsil etmelidir. Birden fazla ilgisiz iÅŸlemi tek command iÃ§inde toplamaktan kaÃ§Ä±nÄ±n.  
* Polymorphism ve generics desteÄŸiyle commandâ€™ler base commandâ€™lerden tÃ¼retilebilir veya generic parametrelerle daha esnek iÅŸ akÄ±ÅŸlarÄ± oluÅŸturulabilir.  
{% /prose %}

---

## Command TÃ¼rleri

Ergosfareâ€™de commandâ€™ler bir iÅŸlemin yapÄ±lmasÄ± niyetini temsil eder. Ä°ki ÅŸekilde modellenebilir:

{% prose %}
- **Fire-and-forget:** Command sadece niyeti belirtir, bir sonuÃ§ dÃ¶ndÃ¼rmez.  
- **Request/Response:** Command hem niyeti belirtir hem de iÅŸlem tamamlandÄ±ktan sonra bir sonuÃ§ dÃ¶ner.  
{% /prose %}

### SonuÃ§ DÃ¶ndÃ¼rmeyen Command

```csharp
using Ergosfare.Contracts;

public record CreateOrderCommand(
    string CustomerId, List<OrderItemDto> Items) : ICommand;
```

### SonuÃ§ DÃ¶ndÃ¼ren Command

```csharp
using Ergosfare.Contracts;

public class CreateOrderCommandWithResult(
    string customerId, List<OrderItemDto> items) : ICommand<bool>;
```

> Not: Command, dÃ¶nÃ¼ÅŸ tipini generic `ICommand<T>` ile belirtir.

---

### Commandâ€™ler VarsayÄ±lan Olarak Immutableâ€™dÄ±r

TasarÄ±m gereÄŸi commandâ€™ler immutableâ€™dÄ±r. Bu, niyetin yaÅŸam dÃ¶ngÃ¼sÃ¼ boyunca tutarlÄ± kalmasÄ±nÄ± saÄŸlar.
Ergosfare, â€œmid-flightâ€ mutasyonu (Ã§alÄ±ÅŸma esnasÄ±nda deÄŸiÅŸtirilmesi) tavsiye etmez. Ancak bazÄ± durumlarda (Ã¶r: kullanÄ±cÄ± kimliÄŸi, tenant, ortam bilgisi) **pre-handlerâ€™lar** commandâ€™i handlerâ€™a ulaÅŸmadan Ã¶nce deÄŸiÅŸtirebilir. Bu, esneklik saÄŸlarken command akÄ±ÅŸÄ±nÄ±n bÃ¼tÃ¼nlÃ¼ÄŸÃ¼nÃ¼ korur.

---

### Mutable vs. Immutable Commands

Ergosfareâ€™de commandâ€™ler varsayÄ±lan olarak **immutable** tanÄ±mlanÄ±r. Immutable commandâ€™ler beklenmedik durum deÄŸiÅŸikliklerini Ã¶nler ve reasoning, test ve serialization sÃ¼reÃ§lerini kolaylaÅŸtÄ±rÄ±r.

#### Immutable Command

```csharp
using Ergosfare.Contracts;

public record CreateMass(string Name) : ICommand;
```

#### Mutable Command

BazÄ± Ã¶zel durumlarda, commandâ€™in handler Ã¶ncesi zenginleÅŸtirilmesi veya uyarlanmasÄ± gerektiÄŸinde, **mutable reference type** kullanÄ±labilir.

```csharp
using Ergosfare.Contracts;

public record CreateMass(string name) : ICommand
{
    public string Name { get; set; } = name;
}
```

#### Mutable Command NotlarÄ±

{% prose %}

* Mutable commandâ€™ler mutlaka **reference type** olmalÄ±dÄ±r.
* Mutasyon yalnÄ±zca **handler Ã§alÄ±ÅŸmadan Ã¶nce**, genellikle pre-handler iÃ§inde yapÄ±lmalÄ±dÄ±r.
* Mutabilityâ€™yi yalnÄ±zca gerektiÄŸinde kullanÄ±nâ€”varsayÄ±lan tercih **immutability** olmalÄ±dÄ±r.
{% /prose %}

---

## Sonraki AdÄ±mlar

{% cardgrid stagger=true  %}

{% linkcard title="Command Handler TanÄ±mlama" href="" /%}
{% linkcard title="Command Ã‡aÄŸÄ±rma" href="" /%}
{% linkcard title="Pre-handler Kullanarak Command Mutasyonu" href="" /%}
{% linkcard title="Return Values Ä°ÅŸleme" href="./command-handler#handling-return-values" /%}

{% /cardgrid %}

---

## ğŸ“– SÃ¶zlÃ¼k

| Terim       | AÃ§Ä±klama                                                                           |
| ----------- | ---------------------------------------------------------------------------------- |
| Command     | Sistem Ã¼zerinde belirli bir iÅŸlemi gerÃ§ekleÅŸtirmek iÃ§in kullanÄ±lan mesaj / intent. |
| Intent      | YapÄ±lmak istenen eylemi temsil eden niyet.                                         |
| Handler     | Commandâ€™in iÅŸ mantÄ±ÄŸÄ±nÄ± yÃ¼rÃ¼ten sÄ±nÄ±f.                                             |
| Pre-handler | Command, handlerâ€™a ulaÅŸmadan Ã¶nce Ã§alÄ±ÅŸan ve onu deÄŸiÅŸtirebilen bileÅŸen.           |
| Immutable   | OluÅŸturulduktan sonra deÄŸiÅŸtirilemeyen nesne.                                      |
| Mutable     | YaÅŸam dÃ¶ngÃ¼sÃ¼ sÄ±rasÄ±nda deÄŸiÅŸtirilebilen nesne.                                    |

